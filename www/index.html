<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>html5boilerplate Bootstrap com Vue</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container-fluid mt-4">
        <div id="app">
            <template>
                <div class="row">
                    <div class="col-12 text-center">
                        <h1>TXAudio Editor</h1>
                    </div>
                </div>
                <div v-for="faixa in faixas" class="faixa">
                    <img :src="faixa.icon" class="icone" />
                    &nbsp;<strong>{{faixa.nome}}</strong>
                    <input type="range" @input="alterarVolume" class="input-range w-100" :id="faixa.id" min="0" max="1"
                        step="0.01" :value="faixa.volume" />
                    <i class="bi bi-volume-up" style="font-size:2rem" :id="'muteButton' + faixa.id" @click="setMute" :data-id="faixa.id"></i>
                    <audio constrols @timeupdate="updateTime" :id="'audio'+faixa.id" :data-color="faixa.color" :data-id="faixa.id">
                        <source :src="folderName + faixa.src" type="audio/mp3">
                        Seu navegador não suporta a tag de áudio.
                    </audio>
                    <canvas :id="'canvas' + faixa.id"></canvas>
                </div>
                <!-- <div class="faixa">
                    <img src="img/bassc.svg" class="icone" />
                    <strong>Baixo</strong>
                    <input type="range" @input="alterarVolume" class="input-range w-100" id="1" min="0" max="1"
                        step="0.01" value="1" />
                    <i class="bi bi-volume-up" style="font-size:2rem" id="muteButton1" @click="setMute" data-id="1"></i>
                    <audio constrols @timeupdate="updateTime" id="audio1" data-color="rgb(255,0,0)" data-id="1">
                        <source src="audio_example/love.mp3" type="audio/mp3">
                        Seu navegador não suporta a tag de áudio.
                    </audio>
                    <canvas id="canvas1"></canvas>
                </div> -->
                <!-- <div class="faixa">
                    <img src="img/drums.svg" class="icone" />&nbsp;
                    <strong>Bateria</strong>
                    <input type="range" @input="alterarVolume" class="input-range w-100" id="2" min="0" max="1"
                        step="0.01" value="1" />
                    <i class="bi bi-volume-up" style="font-size:2rem" id="muteButton2" @click="setMute" data-id="2"></i>
                    <audio constrols @timeupdate="updateTime" id="audio2" data-color="rgb(255,255,0)" data-id="2">
                        <source src="audio_example/audio_example-drums.mp3" type="audio/mp3">
                        Seu navegador não suporta a tag de áudio.
                    </audio>
                    <canvas id="canvas2"></canvas>
                </div>
                <div class="faixa">
                    <img src="img/synth.svg" class="icone" />&nbsp;
                    <strong>Outros</strong>
                    <input type="range" @input="alterarVolume" class="input-range w-100" id="3" min="0" max="1"
                        step="0.01" value="1" />
                    <i class="bi bi-volume-up" style="font-size:2rem" id="muteButton3" @click="setMute" data-id="3"></i>
                    <audio constrols @timeupdate="updateTime" id="audio3" data-color="rgb(0,255,0)" data-id="3">
                        <source src="audio_example/audio_example-other.mp3" type="audio/mp3">
                        Seu navegador não suporta a tag de áudio.
                    </audio>
                    <canvas id="canvas3"></canvas>
                </div>
                <div class="faixa">
                    <img src="img/micxx.svg" class="icone" />&nbsp;
                    <strong>Vocais</strong>
                    <input type="range" @input="alterarVolume" class="input-range w-100" id="4" min="0" max="1"
                        step="0.01" value="1" />
                    <i class="bi bi-volume-up" style="font-size:2rem" id="muteButton4" @click="setMute" data-id="4"></i>
                    <audio constrols @timeupdate="updateTime" id="audio4" data-color="rgb(0,0,255)" data-id="4">
                        <source src="audio_example/audio_example-vocals.mp3" type="audio/mp3">
                        Seu navegador não suporta a tag de áudio.
                    </audio>
                    <canvas id="canvas4"></canvas>
                </div> -->

                <div class="text-center w-100"
                    style="position:fixed; bottom:10px;left:0px;padding-left:10px;padding-right:10px;">
                    <div class="d-flex align-items-center mb-4">
                        <i class="bi bi-volume-down" style="font-size:2rem"></i>
                        <input type="range" @input="alterarVolumeGeral" class="w-100 input-range" v-model="volumeGeral"
                            min="0" max="1" step="0.01" value="0.2" />
                        <i class="bi bi-volume-up" style="font-size:2rem"></i>
                    </div>

                    <!-- TEMPO -->
                    <div class="d-flex align-items-center">
                        {{ formatCurrentTime(currentTime) }}<input type="range" min="0" :max="duration"
                            @input="atualizarTempoGeral" v-model="currentTime"
                            class="w-100 input-range">{{formatCurrentTime(Math.floor(duration))
                        }}
                    </div>

                    <div class="btn-group btn-group-lg" role="group" aria-label="Basic mixed styles example">
                        <i class="bi bi-play-circle-fill" style="font-size:3rem" id="btnPlay"
                            @click="play"></i>&nbsp;&nbsp;&nbsp;
                        <i class="bi bi-volume-up" style="font-size:3rem" id="btnMuteGeneral"
                            @click="setMuteGeneral"></i>
                    </div>
                </div>
            </template>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/script2.js"></script>
</body>

</html>
